{
	"triggerData": {
		"triggerCondition": "Play",
		"triggerRestriction": {
			"elements": [
				{
					"$type": "Restrict.Triggering:CardsMatch:",
					"card": { "$type": "Identify.Cards:CardBefore:" },
					"other": { "$type": "Identify.Cards:ThisCardNow:" }
				}
			]
		}
	},
	"subeffects": [
		{
			"$type": "Subeffect:SetXByNumberIdentity:",
			"numberIdentity": {
				"$type": "Identify.Numbers:Arg:",
				"multiplier": 1
			}
		},
		{
			"$type": "Subeffect:TargetThis:"
		},
		{
			"$type": "Subeffect:CardTarget:",
			"toSearch": { "$type": "Identify.ManyCards:Hand:" },
			"cardRestriction": {
				"blurb": "Modules to attach",
				"elements": [
					{
						"$type": "Restrict.Cards:Subtypes:",
						"subtypes": [ "Module" ]
					}
				]
			},
			"listRestriction": {
				"$type": "Restrict.ManyCards:Maximum:",
				"bound": { "$type": "Identify.Numbers:EffectX:" }
			}
		},
		{
			"$type": "Subeffect:SetXByNumberIdentity:",
			"numberIdentity": {
				"$type": "Identify.Numbers:TargetCount:",
				"multiplier": 1,
				"modifier": -1
			}
		},
		{
			"$type": "Subeffect:Attach:",
			"targetToAttachTo": 0,
			"targetIndex": -1
		},
		{
			"$type": "Subeffect:LoopWhileHaveTargets:",
			"delete": true,
			"remainingTargets": 1,
			"jumpIndices": [
				4
			]
		},
		{
			"$type": "Subeffect:DrawX:"
		}
	]
}